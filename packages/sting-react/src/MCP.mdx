import { Meta } from '@storybook/blocks';

<Meta title="Getting Started/MCP" />

# MCP Setup Guide

Welcome to the MCP setup guide for Sting React. Follow these steps to configure and use MCP with the component library.

## Prerequisites

Before you begin, ensure you have the following installed and configured:

- **VSCode**: Latest version with GitHub Copilot license
- **Node.js**: v18 or higher
- **NPM Token**: You must have an `NPM_TOKEN` environment variable set up in your shell
- **VSCode MCP Setting**: Enable `chat.mcp.enabled` in VSCode settings

## Setup Instructions

### 1. Configure NPM Token

Ensure your `NPM_TOKEN` is available in your shell configuration file. Add the following to your shell's configuration file (`.bashrc`, `.zshrc`, or `.bash_profile`):

```bash
export NPM_TOKEN=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
```

Source your configuration file to apply changes:

```bash
source ~/.zshrc  # or ~/.bashrc
```

### 2. Create .npmrc File

Create a file named `.npmrc` in your home directory and add the following line:

```
//registry.npmjs.org/:_authToken=${NPM_TOKEN}
```

### 3. Install MCP Server

Install the Sting React MCP server globally:

```bash
npm i @chargebee/sting-react-mcp -g
```

If you encounter permission issues, install at user level:

```bash
npm install -g @chargebee/sting-react-mcp --prefix ~/.npm-global
```

Then add the following to your shell configuration file:

```bash
export PATH=~/.npm-global/bin:$PATH
```

### 4. Configure MCP in Your Editor

#### For VSCode

Create a file named `mcp.json` under the `.vscode` directory:

```json
{
	"servers": {
		"sting-react-dls": {
			"type": "stdio",
			"command": "<path to node here>",
			"args": ["<path to globally installed sting-react-mcp here>"]
		}
	}
}
```

#### For Cursor

Create a file named `mcp.json` under the `.cursor` directory:

```json
{
	"mcpServers": {
		"sting-react-dls": {
			"type": "stdio",
			"command": "<path to node here>",
			"args": ["<path to globally installed sting-react-mcp here>"]
		}
	}
}
```

Here's an example configuration with actual paths:

```json
{
	"servers": {
		"sting-react-dls": {
			"type": "stdio",
			"command": "/Users/mathumitha/.nvm/versions/node/v20.18.2/bin/node",
			"args": [
				"/Users/mathumitha/.nvm/versions/node/v20.18.2/lib/node_modules/@chargebee/sting-react-mcp/dist/index.js"
			]
		}
	}
}
```

## Usage Guidelines

### Approved Usage

- Always use MCP with the GitHub Copilot provided by the organization
- Do not use MCP with unauthorized AI clients
- Ensure the MCP server is running before use
