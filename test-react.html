<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React Component Testing - Builder.io DS</title>
    <style>
      body {
        font-family: system-ui, -apple-system, sans-serif;
        padding: 2rem;
        background-color: #f9fafb;
        margin: 0;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      }
      .section {
        margin-bottom: 2rem;
        padding: 1.5rem;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
      }
      .button-row {
        display: flex;
        gap: 1rem;
        align-items: center;
        flex-wrap: wrap;
        margin: 1rem 0;
      }
      .status {
        padding: 1rem;
        border-radius: 6px;
        margin: 1rem 0;
      }
      .status.success {
        background-color: #dcfce7;
        color: #166534;
        border: 1px solid #bbf7d0;
      }
      .status.error {
        background-color: #fef2f2;
        color: #dc2626;
        border: 1px solid #fecaca;
      }
      .code-block {
        background: #1f2937;
        color: #f9fafb;
        padding: 1rem;
        border-radius: 6px;
        font-family: "Monaco", "Consolas", monospace;
        font-size: 0.875rem;
        overflow-x: auto;
      }
    </style>
    <!-- Import Tailwind CSS styles -->
    <link rel="stylesheet" href="dist/styles.css" />
  </head>
  <body>
    <div class="container">
      <h1>üé® React Component Testing</h1>

      <div class="section">
        <h2>üìã Test Status</h2>
        <div id="test-status">
          <div>‚è≥ Loading React components...</div>
        </div>
      </div>

      <div class="section">
        <h2>üéØ Button Components</h2>
        <div id="react-root">
          <div>Loading React components...</div>
        </div>
      </div>

      <div class="section">
        <h2>üß™ Manual Testing Checklist</h2>
        <div>
          <h3>‚úÖ Visual Tests</h3>
          <ul>
            <li>All button variants display correctly</li>
            <li>Hover effects work smoothly</li>
            <li>Focus states are visible</li>
            <li>Loading animations work</li>
            <li>Disabled states are properly styled</li>
          </ul>

          <h3>üñ±Ô∏è Interaction Tests</h3>
          <ul>
            <li>Click handlers work</li>
            <li>Keyboard navigation (Tab/Enter/Space)</li>
            <li>Link buttons navigate correctly</li>
            <li>Disabled buttons don't respond to clicks</li>
          </ul>

          <h3>‚ôø Accessibility Tests</h3>
          <ul>
            <li>Screen reader announcements</li>
            <li>ARIA labels work correctly</li>
            <li>Keyboard navigation</li>
            <li>Color contrast is sufficient</li>
          </ul>
        </div>
      </div>

      <div class="section">
        <h2>üõ†Ô∏è Development Commands</h2>
        <div class="code-block">
          # Install React dependencies for testing npm install react react-dom #
          Build the components npm run build # Watch mode for development npm
          run dev # Serve for testing npm run serve
        </div>
      </div>
    </div>

    <!-- React and Babel for JSX transformation -->
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
      const { useState, useEffect } = React;

      // Mock Button component for testing (since we can't easily import our built component here)
      const MockButton = ({
        children,
        text,
        variant = "primary",
        size = "medium",
        disabled = false,
        loading = false,
        onClick,
        startIcon,
        endIcon,
        fullWidth = false,
        href,
        target,
        ...props
      }) => {
        const content = children || text || "Button";

        const classes = [
          "button",
          `button--${variant}`,
          `button--${size}`,
          loading && "button--loading",
          fullWidth && "button--full-width",
        ]
          .filter(Boolean)
          .join(" ");

        const handleClick = (e) => {
          if (disabled || loading) return;
          if (onClick) onClick(e);
          console.log(`Button clicked: ${variant} ${size}`);
        };

        const renderContent = () => (
          <span className="button__content">
            {loading && <span className="button__spinner" aria-hidden="true" />}
            {!loading && startIcon && (
              <span className="button__icon">{startIcon}</span>
            )}
            {content}
            {!loading && endIcon && (
              <span className="button__icon">{endIcon}</span>
            )}
          </span>
        );

        if (href && !disabled && !loading) {
          return (
            <a
              href={href}
              target={target}
              className={classes}
              onClick={handleClick}
              {...props}
            >
              {renderContent()}
            </a>
          );
        }

        return (
          <button
            type="button"
            disabled={disabled || loading}
            className={classes}
            onClick={handleClick}
            {...props}
          >
            {renderContent()}
          </button>
        );
      };

      const TestApp = () => {
        const [clickCount, setClickCount] = useState(0);

        const handleClick = () => {
          setClickCount((prev) => prev + 1);
        };

        useEffect(() => {
          document.getElementById("test-status").innerHTML = `
                    <div class="status success">
                        ‚úÖ React components loaded successfully! Click count: ${clickCount}
                    </div>
                `;
        }, [clickCount]);

        return (
          <div>
            <div className="section">
              <h3>Button Variants</h3>
              <div className="button-row">
                <MockButton variant="primary" onClick={handleClick}>
                  Primary
                </MockButton>
                <MockButton variant="secondary" onClick={handleClick}>
                  Secondary
                </MockButton>
                <MockButton variant="outline" onClick={handleClick}>
                  Outline
                </MockButton>
                <MockButton variant="ghost" onClick={handleClick}>
                  Ghost
                </MockButton>
              </div>
            </div>

            <div className="section">
              <h3>Button Sizes</h3>
              <div className="button-row">
                <MockButton size="small" onClick={handleClick}>
                  Small
                </MockButton>
                <MockButton size="medium" onClick={handleClick}>
                  Medium
                </MockButton>
                <MockButton size="large" onClick={handleClick}>
                  Large
                </MockButton>
              </div>
            </div>

            <div className="section">
              <h3>Button States</h3>
              <div className="button-row">
                <MockButton disabled>Disabled</MockButton>
                <MockButton loading variant="primary">
                  Loading
                </MockButton>
                <MockButton loading variant="outline">
                  Loading Outline
                </MockButton>
              </div>
            </div>

            <div className="section">
              <h3>With Icons</h3>
              <div className="button-row">
                <MockButton startIcon={<span>üì•</span>} onClick={handleClick}>
                  Download
                </MockButton>
                <MockButton
                  endIcon={<span>‚Üí</span>}
                  variant="outline"
                  onClick={handleClick}
                >
                  Continue
                </MockButton>
              </div>
            </div>

            <div className="section">
              <h3>Link Buttons</h3>
              <div className="button-row">
                <MockButton href="https://builder.io" target="_blank">
                  Visit Builder.io
                </MockButton>
                <MockButton href="#test" variant="outline">
                  Jump to Section
                </MockButton>
              </div>
            </div>

            <div className="section">
              <h3>Full Width</h3>
              <MockButton fullWidth variant="primary" onClick={handleClick}>
                Full Width Button
              </MockButton>
            </div>

            <div className="section">
              <h3>Builder.io Text Prop</h3>
              <div className="button-row">
                <MockButton
                  text="Text Prop Button"
                  variant="secondary"
                  onClick={handleClick}
                />
                <MockButton
                  text="Builder.io Compatible"
                  variant="ghost"
                  onClick={handleClick}
                />
              </div>
            </div>

            <div className="section">
              <h3>Interactive Test</h3>
              <p>
                Click count: <strong>{clickCount}</strong>
              </p>
              <MockButton variant="primary" onClick={handleClick}>
                Click Me! ({clickCount})
              </MockButton>
            </div>
          </div>
        );
      };

      // Render the test app
      ReactDOM.render(<TestApp />, document.getElementById("react-root"));
    </script>
  </body>
</html>
